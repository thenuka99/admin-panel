!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ReactCharts={},t.React,t.ReactDOM)}(this,(function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var o=r(e),a=i(e),u=r(n);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function h(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>h(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const g=d(h).right;function m(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}d((function(t){return null===t?NaN:+t})).center;class p extends Map{constructor(t,e=v){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(y(this,t))}has(t){return super.has(y(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);t.has(r)&&(n=t.get(n),t.delete(r));return n}(this,t))}}function y({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function v(t){return null!==t&&"object"==typeof t?t.valueOf():t}function x(t){return t}function b(t,...e){return function(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new p,u=r[o++];let l=-1;for(const t of i){const e=u(t,++l,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,Array.from,x,e)}function M(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n=h]=e;if(1===n.length||e.length>1){const o=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),o.sort(((t,n)=>{for(const r of e){const e=h(r[t],r[n]);if(e)return e}}))):(n=t.map(n),o.sort(((t,e)=>h(n[t],n[e])))),r=t,i=o,Array.from(i,(t=>r[t]))}var r,i;return t.sort(n)}var w=Math.sqrt(50),_=Math.sqrt(10),k=Math.sqrt(2);function T(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=N(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++u<i;)o[u]=(n+u)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++u<i;)o[u]=(n+u)/a}return r&&o.reverse(),o}function N(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=w?10:o>=_?5:o>=k?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=w?10:o>=_?5:o>=k?2:1)}function E(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=w?i*=10:o>=_?i*=5:o>=k&&(i*=2),e<t?-i:i}function S(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function A(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function D(t,e,n=0,r=t.length-1,i=h){for(;r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,u=Math.log(o),l=.5*Math.exp(2*u/3),s=.5*Math.sqrt(u*l*(o-l)/o)*(a-o/2<0?-1:1);D(t,e,Math.max(n,Math.floor(e-a*l/o+s)),Math.min(r,Math.floor(e+(o-a)*l/o+s)),i)}const o=t[e];let a=n,u=r;for(C(t,n,e),i(t[r],o)>0&&C(t,n,r);a<u;){for(C(t,a,u),++a,--u;i(t[a],o)<0;)++a;for(;i(t[u],o)>0;)--u}0===i(t[n],o)?C(t,n,u):(++u,C(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function C(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function V(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return A(t);if(e>=1)return S(t);var r,i=(r-1)*e,o=Math.floor(i),a=S(D(t,o).subarray(0,o+1));return a+(A(t.subarray(o+1))-a)*(i-o)}}function I(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function F(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function O(t){var e=o.default.useRef(t),n=o.default.useRef();return e.current=t,n.current||(n.current=function(){return e.current}),n.current}var U="undefined"!=typeof window?o.default.useLayoutEffect:o.default.useEffect;var R=["area","line","rectangle","circle"];function L(t,e){void 0===t&&(t={}),void 0===e&&(e={}),t=function(t,e){return f({},t,{stroke:t.stroke||t.color||e.stroke||e.color,fill:t.fill||t.color||e.fill||e.color})}(t,e);for(var n=0;n<R.length;n++){var r=R[n];t[r]&&e[r]&&(t[r]=L(t[r],e))}return t}function P(t,e){return"translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0)"}function j(t){return"number"==typeof t&&!Number.isNaN(t)}var B=a.createContext(null);function H(t){var e=t.value,n=t.children;return a.createElement(B.Provider,{value:e,children:n})}function Y(){return a.useContext(B)()}function q(t){var e=t.primaryAxis,n=t.secondaryAxis,r=t.series,i=Y(),a=i.getSeriesStatusStyle,u=i.getDatumStatusStyle,l=i.focusedDatumState,s=i.gridDimensions,c=l[0],h=e.isVertical?n:e,d=e.isVertical?e:n;return o.default.createElement("g",{style:{transform:P(s.left,s.top)}},r.map((function(t,r){var i=a(t,c);return o.default.createElement("g",{key:"lines-"+r},t.datums.map((function(t,r){var a,l,s,g,m=u(t,c),p=X(null!=(a=function(t,e,n){return e.isVertical?G(t,n):W(t,e,n)}(t,e,n))?a:NaN,null!=(l=function(t,e,n){return e.isVertical?K(t,n):$(t,e,n)}(t,e,n))?l:NaN,h),y=p[0],v=p[1],x=X(null!=(s=function(t,e,n){return e.isVertical?W(t,e,n):Z(t,n)}(t,e,n))?s:NaN,null!=(g=function(t,e,n){return e.isVertical?$(t,e,n):K(t,n)}(t,e,n))?g:NaN,d),b=x[0],M=x[1];return o.default.createElement("rect",{ref:function(e){t.element=e},key:r,x:y,y:b,width:v,height:M,style:f({strokeWidth:0},i,i.rectangle,m,m.rectangle)})})))})))}function z(t,e){return Math.max(e.primaryBandScale.bandwidth(),1)}function $(t,e,n){if("band"===e.axisFamily){var r,i,o=n.stacked?e.scale.bandwidth():e.seriesBandScale.bandwidth();return Math.min(Math.max(o,null!=(r=e.minBandSize)?r:1),null!=(i=e.maxBandSize)?i:99999999)}return Math.max(n.stacked?e.primaryBandScale.bandwidth():e.seriesBandScale.bandwidth(),1)}function K(t,e){var n=[G(t,e),Z(t,e)];return Math.abs(n[1]-n[0])}function W(t,e,n){var r,i,o=null!=(r=e.scale(t.primaryValue))?r:NaN;("band"!==e.axisFamily&&(o-=z(0,e)/2),n.stacked)||(o+=null!=(i=e.seriesBandScale(t.seriesIndex))?i:NaN);return o}function G(t,e){var n,r,i,o;return e.stacked?null!=(r=e.scale(null!=(i=null==(o=t.stackData)?void 0:o[0])?i:NaN))?r:NaN:null!=(n=e.scale(0))?n:NaN}function Z(t,e){var n,r,i,o;return e.stacked?null!=(r=e.scale(null!=(i=null==(o=t.stackData)?void 0:o[1])?i:NaN))?r:NaN:null!=(n=e.scale(t.secondaryValue))?n:NaN}function X(t,e,n){var r=n.scale.range();n.isVertical&&r.reverse();var i=function(t){return Math.max(r[0],Math.min(t,r[1]))},o=i(t);return[o,i(t+e)-o]}const J=Math.PI,Q=2*J,tt=1e-6,et=Q-tt;function nt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rt(){return new nt}function it(t){return function(){return t}}function ot(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function at(t){this._context=t}function ut(t){return new at(t)}function lt(t){return t[0]}function st(t){return t[1]}function ct(t,e){var n=it(!0),r=null,i=ut,o=null;function a(a){var u,l,s,c=(a=ot(a)).length,f=!1;for(null==r&&(o=i(s=rt())),u=0;u<=c;++u)!(u<c&&n(l=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,u,a),+e(l,u,a));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?lt:it(t),e="function"==typeof e?e:void 0===e?st:it(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:it(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:it(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:it(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function ft(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],u=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ht(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function dt(t,e){return t[e]}function gt(t){const e=[];return e.key=t,e}function mt(t){return t<0?-1:1}function pt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(mt(o)+mt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function yt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vt(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,a-u*n,o,a)}function xt(t){this._context=t}nt.prototype=rt.prototype={constructor:nt,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,l=r-e,s=o-t,c=a-e,f=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>tt)if(Math.abs(c*u-l*s)>tt&&i){var h=n-o,d=r-a,g=u*u+l*l,m=h*h+d*d,p=Math.sqrt(g),y=Math.sqrt(f),v=i*Math.tan((J-Math.acos((g+f-m)/(2*p*y)))/2),x=v/y,b=v/p;Math.abs(x-1)>tt&&(this._+="L"+(t+x*s)+","+(e+x*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*d)+","+(this._x1=t+b*u)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),l=t+a,s=e+u,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+s:(Math.abs(this._x1-l)>tt||Math.abs(this._y1-s)>tt)&&(this._+="L"+l+","+s),n&&(f<0&&(f=f%Q+Q),f>et?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=s):f>tt&&(this._+="A"+n+","+n+",0,"+ +(f>=J)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},at.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vt(this,this._t0,yt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vt(this,yt(this,n=pt(this,t,e)),n);break;default:vt(this,this._t0,n=pt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},Object.create(xt.prototype).point=function(t,e){xt.prototype.point.call(this,e,t)};var bt=function(t){return new xt(t)};function Mt(t){var e,n=t.primaryAxis,r=t.secondaryAxis,i=t.series,a=Y(),u=a.getSeriesStatusStyle,l=a.getDatumStatusStyle,s=a.focusedDatumState,c=a.gridDimensions,h=null!=(e=r.curve)?e:bt,d=s[0];return o.default.createElement("g",{style:{transform:P(c.left,c.top)}},i.map((function(t,e){var i,a,s=u(t,d),c=null;if("area"===r.elementType){var g=function(t){return kt(t,n)},m=function(t){return Nt(function(t,e){var n,r,i,o;return e.stacked?null!=(r=e.scale(null!=(i=null==(o=t.stackData)?void 0:o[0])?i:NaN))?r:NaN:null!=(n=e.scale(0))?n:NaN}(t,r),r)},p=function(t){return Nt(Tt(t,r),r)},y=function(t,e,n){var r=null,i=it(!0),o=null,a=ut,u=null;function l(l){var s,c,f,h,d,g=(l=ot(l)).length,m=!1,p=new Array(g),y=new Array(g);for(null==o&&(u=a(d=rt())),s=0;s<=g;++s){if(!(s<g&&i(h=l[s],s,l))===m)if(m=!m)c=s,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=s-1;f>=c;--f)u.point(p[f],y[f]);u.lineEnd(),u.areaEnd()}m&&(p[s]=+t(h,s,l),y[s]=+e(h,s,l),u.point(r?+r(h,s,l):p[s],n?+n(h,s,l):y[s]))}if(d)return u=null,d+""||null}function s(){return ct().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?lt:it(+t),e="function"==typeof e?e:it(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?st:it(+n),l.x=function(e){return arguments.length?(t="function"==typeof e?e:it(+e),r=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:it(+e),l):t},l.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:it(+t),l):r},l.y=function(t){return arguments.length?(e="function"==typeof t?t:it(+t),n=null,l):e},l.y0=function(t){return arguments.length?(e="function"==typeof t?t:it(+t),l):e},l.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:it(+t),l):n},l.lineX0=l.lineY0=function(){return s().x(t).y(e)},l.lineY1=function(){return s().x(t).y(n)},l.lineX1=function(){return s().x(r).y(e)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:it(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(u=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=u=null:u=a(o=t),l):o},l}(g,m,p).curve(h);y.defined((function(t){return[g(t),m(t),p(t)].every(j)})),c=y(t.datums)}var v=function(t){return kt(t,n)},x=function(t){return Tt(t,r)},b=ct(v,x).curve(h);b.defined((function(t){return[v(t),x(t)].every(j)}));var M=("area"===r.elementType||"line"===r.elementType)&&null!=(i=b(t.datums))?i:void 0,w=null!=(a=r.showDatumElements)?a:"bubble"===r.elementType||"onFocus";return o.default.createElement("g",{key:"lines-"+e},c?o.default.createElement("path",{d:c,style:f({strokeWidth:2,opacity:.5},s,s.area)}):null,M?o.default.createElement("path",{d:M,style:f({strokeWidth:2},s,s.line,{fill:"none"})}):null,t.datums.map((function(t,e){var i,a=l(t,d),u="onFocus"===w?t===d?4:0:2,c="onFocus"===w?t===d:null!=(i=r.showDatumElements)?i:"bubble"===r.elementType;return o.default.createElement("circle",{key:e,ref:function(e){t.element=e},cx:wt(t,n,r)||0,cy:_t(t,n,r)||0,style:f({r:u,transition:"all .3s ease-out"},s,s.circle,a,a.circle,c?{}:{opacity:0})})})))})))}function wt(t,e,n){return e.isVertical?Tt(t,n):kt(t,e)}function _t(t,e,n){return e.isVertical?kt(t,e):Tt(t,n)}function kt(t,e){var n,r=null!=(n=e.scale(t.primaryValue))?n:NaN;return"band"===e.axisFamily&&(r+=e.scale.bandwidth()/2),r}function Tt(t,e){var n,r,i,o;return e.stacked?null!=(r=e.scale(null!=(i=null==(o=t.stackData)?void 0:o[1])?i:NaN))?r:NaN:null!=(n=e.scale(t.secondaryValue))?n:NaN}function Nt(t,e){var n=e.scale.range();return e.isVertical&&n.reverse(),Math.max(n[0],Math.min(t,n[1]))}function Et(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const St=Symbol("implicit");function At(){var t=new Map,e=[],n=[],r=St;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==St)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return At(e,n).unknown(r)},Et.apply(i,arguments),i}function Dt(){var t,e,n=At().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,u=!1,l=0,s=0,c=.5;function f(){var n=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,n-l+2*s),u&&(t=Math.floor(t)),h+=(d-h-t*(n-l))*c,e=t*(1-l),u&&(h=Math.round(h),e=Math.round(e));var g=I(n).map((function(e){return h+t*e}));return i(f?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(u=!!t,f()):u},n.padding=function(t){return arguments.length?(l=Math.min(1,s=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(s=+t,f()):s},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),f()):c},n.copy=function(){return Dt(r(),[o,a]).round(u).paddingInner(l).paddingOuter(s).align(c)},Et.apply(f(),arguments)}function Ct(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function It(){}var Ft=.7,Ot=1/Ft,Ut="\\s*([+-]?\\d+)\\s*",Rt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pt=/^#([0-9a-f]{3,8})$/,jt=new RegExp("^rgb\\("+[Ut,Ut,Ut]+"\\)$"),Bt=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Ht=new RegExp("^rgba\\("+[Ut,Ut,Ut,Rt]+"\\)$"),Yt=new RegExp("^rgba\\("+[Lt,Lt,Lt,Rt]+"\\)$"),qt=new RegExp("^hsl\\("+[Rt,Lt,Lt]+"\\)$"),zt=new RegExp("^hsla\\("+[Rt,Lt,Lt,Rt]+"\\)$"),$t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Kt(){return this.rgb().formatHex()}function Wt(){return this.rgb().formatRgb()}function Gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Zt(e):3===n?new te(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=jt.exec(t))?new te(e[1],e[2],e[3],1):(e=Bt.exec(t))?new te(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ht.exec(t))?Xt(e[1],e[2],e[3],e[4]):(e=Yt.exec(t))?Xt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qt.exec(t))?ie(e[1],e[2]/100,e[3]/100,1):(e=zt.exec(t))?ie(e[1],e[2]/100,e[3]/100,e[4]):$t.hasOwnProperty(t)?Zt($t[t]):"transparent"===t?new te(NaN,NaN,NaN,0):null}function Zt(t){return new te(t>>16&255,t>>8&255,255&t,1)}function Xt(t,e,n,r){return r<=0&&(t=e=n=NaN),new te(t,e,n,r)}function Jt(t){return t instanceof It||(t=Gt(t)),t?new te((t=t.rgb()).r,t.g,t.b,t.opacity):new te}function Qt(t,e,n,r){return 1===arguments.length?Jt(t):new te(t,e,n,null==r?1:r)}function te(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ee(){return"#"+re(this.r)+re(this.g)+re(this.b)}function ne(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function re(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ie(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ae(t,e,n,r)}function oe(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);if(t instanceof It||(t=Gt(t)),!t)return new ae;if(t instanceof ae)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new ae(a,u,l,t.opacity)}function ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ue(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ct(It,Gt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Kt,formatHex:Kt,formatHsl:function(){return oe(this).formatHsl()},formatRgb:Wt,toString:Wt}),Ct(te,Qt,Vt(It,{brighter:function(t){return t=null==t?Ot:Math.pow(Ot,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ft:Math.pow(Ft,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ee,formatHex:ee,formatRgb:ne,toString:ne})),Ct(ae,(function(t,e,n,r){return 1===arguments.length?oe(t):new ae(t,e,n,null==r?1:r)}),Vt(It,{brighter:function(t){return t=null==t?Ot:Math.pow(Ot,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ft:Math.pow(Ft,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new te(ue(t>=240?t-240:t+120,i,r),ue(t,i,r),ue(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var le=t=>()=>t;function se(t){return 1==(t=+t)?ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):le(isNaN(e)?n:e)}}function ce(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):le(isNaN(t)?e:t)}var fe=function t(e){var n=se(e);function r(t,e){var r=n((t=Qt(t)).r,(e=Qt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=ce(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function he(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function de(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=be(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function ge(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function me(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pe(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=be(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ye=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ve=new RegExp(ye.source,"g");function xe(t,e){var n,r,i,o=ye.lastIndex=ve.lastIndex=0,a=-1,u=[],l=[];for(t+="",e+="";(n=ye.exec(t))&&(r=ve.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:me(n,r)})),o=ve.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}function be(t,e){var n,r=typeof e;return null==e||"boolean"===r?le(e):("number"===r?me:"string"===r?(n=Gt(e))?(e=n,fe):xe:e instanceof Gt?fe:e instanceof Date?ge:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?he:Array.isArray(e)?de:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?pe:me)(t,e)}function Me(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function we(t){return+t}var _e=[0,1];function ke(t){return t}function Te(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Ne(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Te(i,r),o=n(a,o)):(r=Te(r,i),o=n(o,a)),function(t){return o(r(t))}}function Ee(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Te(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=g(t,e,1,r)-1;return o[n](i[n](e))}}function Se(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ae(){var t,e,n,r,i,o,a=_e,u=_e,l=be,s=ke;function c(){var t,e,n,l=Math.min(a.length,u.length);return s!==ke&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),s=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Ee:Ne,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),u,l)))(t(s(e)))}return f.invert=function(n){return s(e((o||(o=r(u,a.map(t),me)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,we),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),l=Me,c()},f.clamp=function(t){return arguments.length?(s=!!t||ke,c()):s!==ke},f.interpolate=function(t){return arguments.length?(l=t,c()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function De(){return Ae()(ke,ke)}function Ce(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ve(t){return(t=Ce(Math.abs(t)))?t[1]:NaN}var Ie,Fe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oe(t){if(!(e=Fe.exec(t)))throw new Error("invalid format: "+t);var e;return new Ue({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ue(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Re(t,e){var n=Ce(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Oe.prototype=Ue.prototype,Ue.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Le={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Re(100*t,e),r:Re,s:function(t,e){var n=Ce(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ie=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ce(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pe(t){return t}var je,Be,He,Ye=Array.prototype.map,qe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ze(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Pe:(e=Ye.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Pe:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ye.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Oe(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,m=t.comma,p=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):Le[v]||(void 0===p&&(p=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?o:/[%p]/.test(v)?l:"",M=Le[v],w=/[defgprs%]/.test(v);function _(t){var i,o,l,h=x,_=b;if("c"===v)_=M(t)+_,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:M(Math.abs(t),p),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:s:"-"===f||"("===f?"":f)+h,_=("s"===v?qe[8+Ie/3]:"")+_+(k&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){_=(46===l?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var T=h.length+t.length+_.length,N=T<g?new Array(g-T+1).join(e):"";switch(m&&d&&(t=r(N+t,N.length?g-_.length:1/0),N=""),n){case"<":t=h+t+_+N;break;case"=":t=h+N+t+_;break;case"^":t=N.slice(0,T=N.length>>1)+h+t+_+N.slice(T);break;default:t=N+h+t+_}return u(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=Oe(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ve(e)/3))),i=Math.pow(10,-r),o=qe[8+r/3];return function(t){return n(i*t)+o}}}}function $e(t,e,n,r){var i,o=E(t,e,n);switch((r=Oe(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ve(e)/3)))-Ve(Math.abs(t)))}(o,a))||(r.precision=i),He(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ve(e)-Ve(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Ve(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Be(r)}function Ke(t){var e=t.domain;return t.ticks=function(t){var n=e();return T(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return $e(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,l=o[a],s=o[u],c=10;for(s<l&&(i=l,l=s,s=i,i=a,a=u,u=i);c-- >0;){if((i=N(l,s,n))===r)return o[a]=l,o[u]=s,e(o);if(i>0)l=Math.floor(l/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function We(){var t=De();return t.copy=function(){return Se(t,We())},Et.apply(t,arguments),Ke(t)}function Ge(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Ze(t){return Math.log(t)}function Xe(t){return Math.exp(t)}function Je(t){return-Math.log(-t)}function Qe(t){return-Math.exp(-t)}function tn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function en(t){return function(e){return-t(-e)}}function nn(t){var e,n,r=t(Ze,Xe),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?tn:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=en(e),n=en(n),t(Je,Qe)):t(Ze,Xe),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],l=a[a.length-1];(r=l<u)&&(h=u,u=l,l=h);var s,c,f,h=e(u),d=e(l),g=null==t?10:+t,m=[];if(!(o%1)&&d-h<g){if(h=Math.floor(h),d=Math.ceil(d),u>0){for(;h<=d;++h)for(c=1,s=n(h);c<o;++c)if(!((f=s*c)<u)){if(f>l)break;m.push(f)}}else for(;h<=d;++h)for(c=o-1,s=n(h);c>=1;--c)if(!((f=s*c)<u)){if(f>l)break;m.push(f)}2*m.length<g&&(m=T(u,l,g))}else m=T(h,d,Math.min(d-h,g)).map(n);return r?m.reverse():m},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=Be(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Ge(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function rn(){var t=nn(Ae()).domain([1,10]);return t.copy=function(){return Se(t,rn()).base(t.base())},Et.apply(t,arguments),t}je=ze({thousands:",",grouping:[3],currency:["$",""]}),Be=je.format,He=je.formatPrefix;var on=new Date,an=new Date;function un(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return un((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return on.setTime(+e),an.setTime(+r),t(on),t(an),Math.floor(n(on,an))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var ln=un((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ln.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?un((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ln:null};const sn=1e3,cn=6e4,fn=36e5,hn=864e5,dn=6048e5,gn=2592e6,mn=31536e6;var pn=un((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*sn)}),(function(t,e){return(e-t)/sn}),(function(t){return t.getUTCSeconds()})),yn=un((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*sn)}),(function(t,e){t.setTime(+t+e*cn)}),(function(t,e){return(e-t)/cn}),(function(t){return t.getMinutes()})),vn=un((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*sn-t.getMinutes()*cn)}),(function(t,e){t.setTime(+t+e*fn)}),(function(t,e){return(e-t)/fn}),(function(t){return t.getHours()})),xn=un((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*cn)/hn),(t=>t.getDate()-1));function bn(t){return un((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*cn)/dn}))}var Mn=bn(0),wn=bn(1);bn(2),bn(3);var _n=bn(4);bn(5),bn(6);var kn=un((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Tn=un((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Tn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?un((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Nn=un((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*cn)}),(function(t,e){return(e-t)/cn}),(function(t){return t.getUTCMinutes()})),En=un((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*fn)}),(function(t,e){return(e-t)/fn}),(function(t){return t.getUTCHours()})),Sn=un((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/hn}),(function(t){return t.getUTCDate()-1}));function An(t){return un((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/dn}))}var Dn=An(0),Cn=An(1);An(2),An(3);var Vn=An(4);An(5),An(6);var In=un((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Fn=un((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function On(t,e,n,r,i,o){const a=[[pn,1,sn],[pn,5,5e3],[pn,15,15e3],[pn,30,3e4],[o,1,cn],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,fn],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,hn],[r,2,1728e5],[n,1,dn],[e,1,gn],[e,3,7776e6],[t,1,mn]];function u(e,n,r){const i=Math.abs(n-e)/r,o=d((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(E(e/mn,n/mn,r));if(0===o)return ln.every(Math.max(E(e,n,r),1));const[u,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return u.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:u(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},u]}Fn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?un((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const[Un,Rn]=On(Fn,In,Dn,Sn,En,Nn),[Ln,Pn]=On(Tn,kn,Mn,xn,vn,yn);function jn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Hn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var Yn,qn,zn,$n={"-":"",_:" ",0:"0"},Kn=/^\s*\d+/,Wn=/^%/,Gn=/[\\^$*+?|[\]().{}]/g;function Zn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Xn(t){return t.replace(Gn,"\\$&")}function Jn(t){return new RegExp("^(?:"+t.map(Xn).join("|")+")","i")}function Qn(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function tr(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function er(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function or(t,e,n){var r=Kn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ar(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ur(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lr(t,e,n){var r=Kn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function sr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fr(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function hr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function gr(t,e,n){var r=Kn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mr(t,e,n){var r=Kn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function pr(t,e,n){var r=Kn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yr(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vr(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xr(t,e,n){var r=Kn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function br(t,e){return Zn(t.getDate(),e,2)}function Mr(t,e){return Zn(t.getHours(),e,2)}function wr(t,e){return Zn(t.getHours()%12||12,e,2)}function _r(t,e){return Zn(1+xn.count(Tn(t),t),e,3)}function kr(t,e){return Zn(t.getMilliseconds(),e,3)}function Tr(t,e){return kr(t,e)+"000"}function Nr(t,e){return Zn(t.getMonth()+1,e,2)}function Er(t,e){return Zn(t.getMinutes(),e,2)}function Sr(t,e){return Zn(t.getSeconds(),e,2)}function Ar(t){var e=t.getDay();return 0===e?7:e}function Dr(t,e){return Zn(Mn.count(Tn(t)-1,t),e,2)}function Cr(t){var e=t.getDay();return e>=4||0===e?_n(t):_n.ceil(t)}function Vr(t,e){return t=Cr(t),Zn(_n.count(Tn(t),t)+(4===Tn(t).getDay()),e,2)}function Ir(t){return t.getDay()}function Fr(t,e){return Zn(wn.count(Tn(t)-1,t),e,2)}function Or(t,e){return Zn(t.getFullYear()%100,e,2)}function Ur(t,e){return Zn((t=Cr(t)).getFullYear()%100,e,2)}function Rr(t,e){return Zn(t.getFullYear()%1e4,e,4)}function Lr(t,e){var n=t.getDay();return Zn((t=n>=4||0===n?_n(t):_n.ceil(t)).getFullYear()%1e4,e,4)}function Pr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zn(e/60|0,"0",2)+Zn(e%60,"0",2)}function jr(t,e){return Zn(t.getUTCDate(),e,2)}function Br(t,e){return Zn(t.getUTCHours(),e,2)}function Hr(t,e){return Zn(t.getUTCHours()%12||12,e,2)}function Yr(t,e){return Zn(1+Sn.count(Fn(t),t),e,3)}function qr(t,e){return Zn(t.getUTCMilliseconds(),e,3)}function zr(t,e){return qr(t,e)+"000"}function $r(t,e){return Zn(t.getUTCMonth()+1,e,2)}function Kr(t,e){return Zn(t.getUTCMinutes(),e,2)}function Wr(t,e){return Zn(t.getUTCSeconds(),e,2)}function Gr(t){var e=t.getUTCDay();return 0===e?7:e}function Zr(t,e){return Zn(Dn.count(Fn(t)-1,t),e,2)}function Xr(t){var e=t.getUTCDay();return e>=4||0===e?Vn(t):Vn.ceil(t)}function Jr(t,e){return t=Xr(t),Zn(Vn.count(Fn(t),t)+(4===Fn(t).getUTCDay()),e,2)}function Qr(t){return t.getUTCDay()}function ti(t,e){return Zn(Cn.count(Fn(t)-1,t),e,2)}function ei(t,e){return Zn(t.getUTCFullYear()%100,e,2)}function ni(t,e){return Zn((t=Xr(t)).getUTCFullYear()%100,e,2)}function ri(t,e){return Zn(t.getUTCFullYear()%1e4,e,4)}function ii(t,e){var n=t.getUTCDay();return Zn((t=n>=4||0===n?Vn(t):Vn.ceil(t)).getUTCFullYear()%1e4,e,4)}function oi(){return"+0000"}function ai(){return"%"}function ui(t){return+t}function li(t){return Math.floor(+t/1e3)}function si(t){return new Date(t)}function ci(t){return t instanceof Date?+t:+new Date(+t)}function fi(t,e,n,r,i,o,a,u,l,s){var c=De(),f=c.invert,h=c.domain,d=s(".%L"),g=s(":%S"),m=s("%I:%M"),p=s("%I %p"),y=s("%a %d"),v=s("%b %d"),x=s("%B"),b=s("%Y");function M(t){return(l(t)<t?d:u(t)<t?g:a(t)<t?m:o(t)<t?p:r(t)<t?i(t)<t?y:v:n(t)<t?x:b)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,ci)):h().map(si)},c.ticks=function(e){var n=h();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?M:s(e)},c.nice=function(t){var n=h();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?h(Ge(n,t)):c},c.copy=function(){return Se(c,fi(t,e,n,r,i,o,a,u,l,s))},c}function hi(){return Et.apply(fi(Ln,Pn,Tn,kn,Mn,xn,vn,yn,pn,qn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function di(){return Et.apply(fi(Un,Rn,Fn,In,Dn,Sn,En,Nn,pn,zn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gi(t,e,n,r,i,o,a){var u=function(t){var e,n,r,i,o,a,u,l,s,c;return f({},t,{elementType:null!=(e=t.elementType)?e:"line",minTickPaddingForRotation:null!=(n=t.minTickPaddingForRotation)?n:10,tickLabelRotationDeg:null!=(r=t.tickLabelRotationDeg)?r:60,innerBandPadding:null!=(i=t.innerBandPadding)?i:.5,outerBandPadding:null!=(o=t.outerBandPadding)?o:.2,innerSeriesBandPadding:null!=(a=t.innerSeriesBandPadding)?a:.2,outerSeriesBandPadding:null!=(u=t.outerSeriesBandPadding)?u:0,show:null==(l=t.show)||l,stacked:null!=(s=t.stacked)&&s,shouldNice:null==(c=t.shouldNice)||c})}(e);if(!u.position)throw new Error("Chart axes must have a valid 'position' property");var l=["left","right"].indexOf(u.position)>-1,s=l?[i.height,0]:[0,i.width],c=l?[a,0]:[0,o];return"time"===u.scaleType||"localTime"===u.scaleType?function(t,e,n,r,i,o,a){var u="localTime"===e.scaleType?hi:di,l=!1;n=t?n:n.filter((function(t){return t.secondaryAxisId===e.id})),r=t?r:r.filter((function(t){return t.secondaryAxisId===e.id}));var s=u(o),c=m(r,(function(n){var r=e.getValue(n.originalDatum);return n[t?"primaryValue":"secondaryValue"]=r,r})),h=c[0],d=c[1],g=e.shouldNice;"[object Date]"===Object.prototype.toString.call(e.min)&&(h=A([e.min,h]),g=!1);"[object Date]"===Object.prototype.toString.call(e.max)&&(d=S([e.max,d]),g=!1);"[object Date]"===Object.prototype.toString.call(e.hardMin)&&(h=e.hardMin,g=!1);"[object Date]"===Object.prototype.toString.call(e.hardMax)&&(d=e.hardMax,g=!1);void 0!==h&&void 0!==d||(console.info("Invalid scale min/max",{options:e,series:n,range:o,values:r.map((function(e){return t?e.primaryValue:e.secondaryValue}))}),l=!0);s.domain([h,d]),e.invert&&s.domain(Array.from(s.domain()).reverse());g&&s.nice();var p=s.copy().range(a),y=t?mi(e,s,n,o):void 0,v=y?pi(e,y,n):void 0,x=null==y?void 0:y.bandwidth();if(e.padBandRange&&x){var b=s.invert(0),M=s.invert(x).valueOf()-b.valueOf();s.domain([new Date(s.domain()[0].valueOf()-M/2),new Date(s.domain()[1].valueOf()+M/2)])}var w=s.tickFormat(),_={},k=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.scale?void 0:r.scale(t,f({},_,{scale:void 0})))?n:w(t)},T=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.tooltip?void 0:r.tooltip(t,f({},_,{tooltip:void 0})))?n:k(t)},N=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.cursor?void 0:r.cursor(t,f({},_,{cursor:void 0})))?n:T(t)};return Object.assign(_,{default:w,scale:k,tooltip:T,cursor:N}),f({},e,{isInvalid:l,axisFamily:"time",isVertical:i,scale:s,range:o,outerScale:p,primaryBandScale:y,seriesBandScale:v,formatters:_})}(t,u,n,r,l,s,c):"linear"===u.scaleType||"log"===u.scaleType?function(t,e,n,r,i,o,a){var u="log"===e.scaleType?rn():We(),l=!1;n=t?n:n.filter((function(t){return t.secondaryAxisId===e.id})),r=t?r:r.filter((function(t){return t.secondaryAxisId===e.id})),e.stacked&&function(t,e){for(var n,r=Object.keys(t),i=function(){var t=it([]),e=ht,n=ft,r=dt;function i(i){var o,a,u=Array.from(t.apply(this,arguments),gt),l=u.length,s=-1;for(const t of i)for(o=0,++s;o<l;++o)(u[o][s]=[0,+r(t,u[o].key,s,i)]).data=t;for(o=0,a=ot(e(u));o<l;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:it(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:it(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?ht:"function"==typeof t?t:it(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?ft:t,i):n},i}().keys(r).value((function(n,r,i){var o,a,u=null==(o=t[Number(r)])||null==(a=o.datums[i])?void 0:a.originalDatum,l=void 0!==u?e.getValue(u):0;return null==l?0:l})).offset(null!=(n=e.stackOffset)?n:ft)(Array.from({length:t.sort((function(t,e){return e.datums.length-t.datums.length}))[0].datums.length})),o=0;o<i.length;o++)for(var a=i[o],u=0;u<a.length;u++){var l=a[u];t[o].datums[u]&&(l.data=t[o].datums[u],t[o].datums[u].stackData=l)}}(n,e);var s=e.stacked?m(n.map((function(n){return n.datums.map((function(n){var r,i=e.getValue(n.originalDatum);return n[t?"primaryValue":"secondaryValue"]=i,null!=(r=n.stackData)?r:[]}))})).flat(2)):m(r,(function(n){var r=e.getValue(n.originalDatum);return n[t?"primaryValue":"secondaryValue"]=r,r})),c=s[0],h=s[1],d=e.shouldNice;"number"==typeof e.min&&(c=A([e.min,c]),d=!1);"number"==typeof e.max&&(h=S([e.max,h]),d=!1);if("number"==typeof e.minDomainLength&&void 0!==c&&void 0!==h){var g=V([c,h],.5,v),p=g+e.minDomainLength/2,y=g-e.minDomainLength/2;h=Math.max(p,h),c=Math.min(y,c)}var v;"number"==typeof e.hardMin&&(c=e.hardMin,d=!1);"number"==typeof e.hardMax&&(h=e.hardMax,d=!1);if(void 0===c||void 0===h){var x,b;l=!0,console.info("Invalid scale min/max",{options:e,series:n,range:o,values:r.map((function(e){return t?e.primaryValue:e.secondaryValue}))}),c=null!=(x=c)?x:0,h=null!=(b=h)?b:0}u.domain([c,h]),e.invert&&u.domain(Array.from(u.domain()).reverse());u.range(o),d&&u.nice();var M=u.copy().range(a),w=t?mi(e,u,n,o):void 0,_=w?pi(e,w,n):void 0,k=u.tickFormat(),T={},N=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.scale?void 0:r.scale(t,f({},T,{scale:void 0})))?n:k(t)},E=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.tooltip?void 0:r.tooltip(t,f({},T,{tooltip:void 0})))?n:N(t)},D=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.cursor?void 0:r.cursor(t,f({},T,{cursor:void 0})))?n:E(t)};return Object.assign(T,{default:k,scale:N,tooltip:E,cursor:D}),f({},e,{isInvalid:l,axisFamily:"linear",isVertical:i,scale:u,range:o,outerScale:M,primaryBandScale:w,seriesBandScale:_,formatters:T})}(t,u,n,r,l,s,c):"band"===u.scaleType?function(t,e,n,r,i,o){var a,u;n=n.filter((function(t){return t.secondaryAxisId===e.id}));var l=!1,s=Dt(Array.from(new Set(n.map((function(t){return t.datums})).flat().map((function(n){var r=e.getValue(n.originalDatum);return n[t?"primaryValue":"secondaryValue"]=r,r})))),i).round(!1).paddingOuter(null!=(a=e.outerBandPadding)?a:0).paddingInner(null!=(u=e.innerBandPadding)?u:0);e.invert&&s.domain(Array.from(s.domain()).reverse());var c=s.copy().range(o),h=s,d=pi(e,h,n),g=function(t){return t},m={},p=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.scale?void 0:r.scale(t,f({},m,{scale:void 0})))?n:g(t)},y=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.tooltip?void 0:r.tooltip(t,f({},m,{tooltip:void 0})))?n:p(t)},v=function(t){var n,r;return null!=(n=null==(r=e.formatters)||null==r.cursor?void 0:r.cursor(t,f({},m,{cursor:void 0})))?n:y(t)};return Object.assign(m,{default:g,scale:p,tooltip:y,cursor:v}),f({},e,{isInvalid:l,axisFamily:"band",isVertical:r,scale:s,range:i,outerScale:c,formatters:m,primaryBandScale:h,seriesBandScale:d})}(t,u,n,l,s,c):function(){throw new Error("Invalid scale type")}()}function mi(t,e,n,r){for(var i,o,a=Math.max.apply(Math,r),u=0;u<n.length;u++)for(var l=n[u],s=0;s<l.datums.length;s++)for(var c,f=e(null!=(c=l.datums[s].primaryValue)?c:NaN),h=0;h<l.datums.length;h++){var d,g=e(null!=(d=l.datums[h].primaryValue)?d:NaN);if(f!==g){var m=Math.abs(Math.max(f,g)-Math.min(f,g));m<a&&(a=m)}}return Dt(I(Math.max.apply(Math,r)/a),r).round(!1).paddingOuter(null!=(i=t.outerBandPadding)?i:0).paddingInner(null!=(o=t.innerBandPadding)?o:0)}function pi(t,e,n){var r,i,o=Dt(I(n.length),[0,e.bandwidth()]).round(!1).paddingOuter(null!=(r=t.outerSeriesBandPadding)?r:t.outerBandPadding?t.outerBandPadding/2:0).paddingInner(null!=(i=t.innerSeriesBandPadding)?i:t.innerBandPadding?t.innerBandPadding/2:0);return Object.assign((function(t){var e;return o(null==(e=n.find((function(e){return e.index===t})))?void 0:e.indexPerAxis)}),o)}!function(t){Yn=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,s=Jn(i),c=Qn(i),f=Jn(o),h=Qn(o),d=Jn(a),g=Qn(a),m=Jn(u),p=Qn(u),y=Jn(l),v=Qn(l),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:br,e:br,f:Tr,g:Ur,G:Lr,H:Mr,I:wr,j:_r,L:kr,m:Nr,M:Er,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ui,s:li,S:Sr,u:Ar,U:Dr,V:Vr,w:Ir,W:Fr,x:null,X:null,y:Or,Y:Rr,Z:Pr,"%":ai},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:jr,e:jr,f:zr,g:ni,G:ii,H:Br,I:Hr,j:Yr,L:qr,m:$r,M:Kr,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ui,s:li,S:Wr,u:Gr,U:Zr,V:Jr,w:Qr,W:ti,x:null,X:null,y:ei,Y:ri,Z:oi,"%":ai},M={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=p.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:cr,e:cr,f:pr,g:ar,G:or,H:hr,I:hr,j:fr,L:mr,m:sr,M:dr,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:lr,Q:vr,s:xr,S:gr,u:er,U:nr,V:rr,w:tr,W:ir,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:ar,Y:or,Z:ur,"%":yr};function w(t,e){return function(n){var r,i,o,a=[],u=-1,l=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=$n[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function _(t,e){return function(n){var r,i,o=Hn(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bn(Hn(o.y,0,1))).getUTCDay(),r=i>4||0===i?Cn.ceil(r):Cn(r),r=Sn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=jn(Hn(o.y,0,1))).getDay(),r=i>4||0===i?wn.ceil(r):wn(r),r=xn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bn(Hn(o.y,0,1)).getUTCDay():jn(Hn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bn(o)):jn(o)}}function k(t,e,n,r){for(var i,o,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=M[i in $n?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}}}(t),qn=Yn.format,zn=Yn.utcFormat}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var yi=function(t){var e=t.getBoundingClientRect();return{top:Math.round(e.top),right:Math.round(e.right),bottom:Math.round(e.bottom),left:Math.round(e.left),width:Math.round(e.width),height:Math.round(e.height),x:Math.round(e.x),y:Math.round(e.y)}};function vi(t){var e=o.default.useState(!1),n=e[0],r=e[1],i=Y(),a=i.getOptions,u=i.gridDimensions,l=i.width,s=i.height,c=a(),h=c.dark,d=c.showDebugAxes,g=o.default.useRef(null);!function(t){var e=t.axis,n=t.elRef,r=t.gridDimensions,i=t.setShowRotated,a=Y().axisDimensionsState,u=a[0],l=a[1],s=o.default.useMemo((function(){var t;return null==(t=u[e.position])?void 0:t[e.id]}),[u,e.position,e.id]),c=o.default.useCallback((function(){var t;if(n.current){var o,a=e.isVertical?r.height:r.width,u=Array.from(n.current.querySelectorAll(".Axis-Group.outer .tickLabel")).map((function(t){return yi(t)}));u.forEach((function(t){var e,n=null!=(e=o)?e:{width:0};t.width>0&&t.width>n.width&&(o=t)}));var l=a;u.length>1&&u.forEach((function(t,n){var r=u[n-1];r&&(l=Math.min(l,e.isVertical?t.top-r.top:t.left-r.left))}));var s=((null==(t=o)?void 0:t.width)||0)+e.minTickPaddingForRotation>l;e.isVertical||i(s)}}),[n,e.isVertical,e.minTickPaddingForRotation,r.width,r.height,i]),h=o.default.useCallback((function(){if(n.current){var t={width:0,height:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},r=n.current,i=r.querySelector(".Axis-Group.inner .domainAndTicks"),o=r.querySelector(".Axis-Group.inner .domain");if(i&&o){var a=yi(i),c=yi(o);a&&c&&(e.isVertical?(t.paddingTop=Math.round(Math.max(0,c.top-(null==a?void 0:a.top))),t.paddingBottom=Math.round(Math.max(0,(null==a?void 0:a.bottom)-c.bottom)),t.width=null==a?void 0:a.width):(t.paddingLeft=Math.round(Math.max(0,c.left-(null==a?void 0:a.left))),t.paddingRight=Math.round(Math.max(0,(null==a?void 0:a.right)-c.right)),t.height=null==a?void 0:a.height),u&&s&&!Object.keys(t).some((function(e){return t[e]!==s[e]}))||l((function(n){var r,i,o;return f({},n,((o={})[e.position]=f({},null!=(r=n[e.position])?r:{},((i={})[e.id]=t,i)),o))})))}}else s&&l((function(t){var n,r,i=f({},null!=(n=t[e.position])?n:{});return delete i[e.id],f({},t,((r={})[e.position]=i,r))}))}),[e.id,e.isVertical,e.position,s,u,n,l]);U((function(){window.requestAnimationFrame((function(){c(),h()}))}),[c])}({axis:t,elRef:g,gridDimensions:u,showRotated:n,setShowRotated:r});var m=function(e){var r=!e&&n,i=e?t.outerScale:t.scale,a=i.range(),c=a[0],g=a[1],m=e?s:u.height,p=e?l:u.width,y="left"===t.position?[{x:0,y:c},{x:0,y:g}]:"right"===t.position?[{x:p,y:c},{x:p,y:g}]:"top"===t.position?[{x:c,y:0},{x:g,y:0}]:[{x:c,y:m},{x:g,y:m}],v=y[0],x=y[1],b=function(){var e=t;if(e.outerScale.ticks){if("number"==typeof e.tickCount)return e.outerScale.ticks(e.tickCount);var n=e.isVertical?40:80,r=e.outerScale.range(),i=Math.abs(r[1]-r[0])/n;return e.outerScale.ticks(i)}return e.outerScale.domain()}().map((function(e){var n=function(t,e){var n,r=null!=(n=t(e))?n:NaN;if(t.bandwidth)return r+t.bandwidth()/2;return r}(i,e),r="left"===t.position?[{x:0,y:n},{x:-8,y:n},{x:p,y:n}]:"right"===t.position?[{x:p,y:n},{x:p+8,y:n},{x:0,y:n}]:"top"===t.position?[{x:n,y:0},{x:n,y:-8},{x:n,y:m}]:[{x:n,y:m},{x:n,y:m+8},{x:n,y:0}];return{value:e,from:r[0],to:r[1],gridTo:r[2]}}));return o.default.createElement("g",{key:"Axis-Group "+(e?"outer":"inner"),className:"Axis-Group "+(e?"outer":"inner"),style:{transform:e?void 0:P(u.left,u.top)}},o.default.createElement("g",{className:"Axis",style:f({},e?{opacity:d?.5:0,pointerEvents:"none"}:{opacity:1,pointerEvents:"all"})},o.default.createElement("g",{className:"domainAndTicks"},o.default.createElement("line",{className:"domain",x1:v.x,y1:v.y,x2:x.x,y2:x.y,stroke:h?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),b.map((function(n,i){var a=n.to,u=a.x,l=a.y;return"top"===t.position?l-=5:"bottom"===t.position?l+=5:"left"===t.position?u-=5:"right"===t.position&&(u+=5),o.default.createElement("g",{key:"vx-tick-"+n+"-"+i,className:"tick"},e?null:o.default.createElement("line",{x1:n.from.x,y1:n.from.y,x2:n.to.x,y2:n.to.y,stroke:h?"rgba(255,255,255, .2)":"rgba(0,0,0, .2)"}),o.default.createElement("text",{className:"tickLabel",style:{fontSize:10,fill:h?"rgba(255,255,255, .7)":"rgba(0,0,0, .7)",dominantBaseline:r?"central":"bottom"===t.position?"hanging":"top"===t.position?"alphabetic":"central",textAnchor:r?"end":"right"===t.position?"start":"left"===t.position?"end":"middle"},transform:"translate("+u+", "+l+") rotate("+(r?"top"===t.position?60:-60:0)+")"},t.formatters.scale(n.value)))}))),o.default.createElement("g",{className:"grid"},b.map((function(n,r){var i;return o.default.createElement("g",{key:"vx-tick-"+n+"-"+r,className:"tick"},null!=(i=t.showGrid)&&!i||e?null:o.default.createElement("line",{x1:n.from.x,y1:n.from.y,x2:n.gridTo.x,y2:n.gridTo.y,stroke:h?"rgba(255,255,255, .05)":"rgba(0,0,0, .05)"}))})))))};return t.show?o.default.createElement("g",{ref:g},m(!1),m(!0)):null}function xi(t){var e=o.default.useRef();return U((function(){e.current=t}),[t]),e.current}function bi(t,e){void 0===e&&(e=!0);var n=o.default.useRef(e?t:null);return e&&(n.current=t),n.current}function Mi(){var t=a.useState(),e=t[0],n=t[1];return U((function(){if(!e){var t=document.getElementById("react-charts-portal");t||((t=document.createElement("div")).setAttribute("id","react-charts-portal"),Object.assign(t.style,{pointerEvents:"none",position:"fixed",left:0,right:0,top:0,bottom:0,"z-index":99999999999}),document.body.append(t)),n(t)}})),e}var wi,_i=["bottom","height","left","right","top","width"],ki=new Map,Ti=function t(){var e=[];ki.forEach((function(t,n){var r,i,o=n.getBoundingClientRect();r=o,i=t.rect,void 0===r&&(r={}),void 0===i&&(i={}),_i.some((function(t){return r[t]!==i[t]}))&&(t.rect=o,e.push(t))})),e.forEach((function(t){t.callbacks.forEach((function(e){return e(t.rect)}))})),wi=window.requestAnimationFrame(t)};function Ni(t,e){var n=o.default.useState(t),r=n[0],i=n[1],a=o.default.useState({width:0,height:0}),u=a[0],l=a[1];return o.default.useRef(u).current=u,U((function(){t!==r&&i(t)})),U((function(){e&&r&&l(r.getBoundingClientRect())}),[r,e]),o.default.useEffect((function(){if(r&&e){var t=function(t,e){return{observe:function(){var n=0===ki.size;ki.has(t)?ki.get(t).callbacks.push(e):ki.set(t,{rect:void 0,hasRectChanged:!1,callbacks:[e]}),n&&Ti()},unobserve:function(){var n=ki.get(t);if(n){var r=n.callbacks.indexOf(e);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||ki.delete(t),ki.size||cancelAnimationFrame(wi)}}}}(r,(function(t){l(t)}));return t.observe(),function(){t.unobserve()}}}),[r,e]),u}function Ei(t,e){return(Ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Si(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ai(t,e,n){return(Ai=Si()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Ei(i,n.prototype),i}).apply(null,arguments)}function Di(t,e){return!(!Number.isNaN(t)||!Number.isNaN(e))||t>e-.001&&t<e+.001}function Ci(t){return Di(t,0)}var Vi=function(){function t(t,e,n,r){this._m=e,this._k=n,this._c=r,this._solution=null,this.endPosition=t,this._startTime=0}var e=t.prototype;return e.x=function(t){return void 0===t&&(t=((new Date).getTime()-this._startTime)/1e3),this._solution?this.endPosition+this._solution.x(t):this.endPosition},e.dx=function(t){return void 0===t&&(t=((new Date).getTime()-this._startTime)/1e3),this._solution?this._solution.dx(t):0},e.setEnd=function(t){var e=(new Date).getTime(),n=0,r=this.endPosition;this._solution&&(Ci(n)&&(n=this._solution.dx((e-this._startTime)/1e3)),r=this._solution.x((e-this._startTime)/1e3),Ci(n)&&(n=0),Ci(r)&&(r=0),r+=this.endPosition),this._solution&&Ci(r-t)&&Ci(n)||(this.endPosition=t,this._solution=this._solve(r-this.endPosition,n),this._startTime=e)},e.snap=function(t){this._startTime=(new Date).getTime(),this.endPosition=t,this._solution={x:function(){return 0},dx:function(){return 0}}},e.done=function(){return Di(this.x(),this.endPosition)&&Ci(this.dx())},e._solve=function(t,e){var n=this._c,r=this._m,i=this._k,o=n*n-4*r*i;if(0===o){var a=-n/(2*r),u=t,l=e/(a*t);return{x:function(t){return(u+l*t)*Math.pow(Math.E,a*t)},dx:function(t){var e=Math.pow(Math.E,a*t);return a*(u+l*t)*e+l*e}}}if(o>0){var s=(-n-Math.sqrt(o))/(2*r),c=(-n+Math.sqrt(o))/(2*r),f=(e-s*t)/(c-s),h=t-f;return{x:function(t){return h*Math.pow(Math.E,s*t)+f*Math.pow(Math.E,c*t)},dx:function(t){return h*s*Math.pow(Math.E,s*t)+f*c*Math.pow(Math.E,c*t)}}}var d=Math.sqrt(4*r*i-n*n)/(2*r),g=-n/2*r,m=t,p=(e-g*t)/d;return{x:function(t){return Math.pow(Math.E,g*t)*(m*Math.cos(d*t)+p*Math.sin(d*t))},dx:function(t){var e=Math.pow(Math.E,g*t),n=Math.cos(d*t),r=Math.sin(d*t);return e*(p*d*n-m*d*r)+g*e*(p*r+m*n)}}},t}();function Ii(t,e,n,r,i){var a=o.default.useRef(Ai(Vi,[t].concat(e))),u=O(t),l=function(t){var e=o.default.useRef(null),n=o.default.useRef(t);n.current=t;var r=o.default.useCallback((function(){n.current()||(e.current=requestAnimationFrame(r))}),[]);return[o.default.useMemo((function(){return r}),[r]),o.default.useMemo((function(){return function(){return e.current&&cancelAnimationFrame(e.current)}}),[])]}((function(){return n(a.current.x()),a.current.done()})),s=l[0],c=l[1];return o.default.useEffect((function(){if(r)return a.current.snap(u()),void s();a.current.setEnd(t),s()}),[i,u,r,s,c,t]),o.default.useEffect((function(){return function(){c()}}),[c]),a.current}var Fi=function(t,e){return t?"rgba(255,255,255,"+(e>4?.15:.3)+")":"rgba(0, 26, 39, "+(e>4?.15:.3)+")"},Oi=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Ui(t){var e,n,r;return f({},t,{show:null==(e=t.show)||e,showLine:null==(n=t.showLine)||n,showLabel:null==(r=t.showLabel)||r})}function Ri(){var t,e,n=Y().getOptions,r=null==(t=n().primaryCursor)||t,i=null==(e=n().secondaryCursor)||e,a=o.default.useMemo((function(){return Ui(r?"boolean"==typeof r?{}:r:{show:!1})}),[r]),u=o.default.useMemo((function(){return Ui(i?"boolean"==typeof i?{}:i:{show:!1})}),[i]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(Li,{primary:!0,options:a}),o.default.createElement(Li,{options:u}))}function Li(t){var e,n,r,i,a,l,s,c=Y(),f=c.getOptions,h=c.svgRef,d=c.gridDimensions,g=c.focusedDatumState,m=c.primaryAxis,p=c.secondaryAxes,y=O(t.options),v=g[0],x=bi(v,!!v),b=null!=(e=p.find((function(t){return t.id===(null==x?void 0:x.secondaryAxisId)})))?e:p[0],M=t.primary?m:b,w=t.primary?b:m,_=function(e){var n;return e?M.stacked?null==(n=e.stackData)?void 0:n[1]:t.primary?e.primaryValue:e.secondaryValue:void 0},k=_(v);o.default.useEffect((function(){var t;null==(t=y())||null==t.onChange||t.onChange(k)}),[y,k]);var T,N,E,S,A,D,C,V,I,F,U,R,L=null!=(n=t.options.value)?n:k,j=bi(t.options.value,null!=t.options.value),B=bi(_(x),null!=_(x)),H=null!=j?j:B,q=w.scale.range(),z="band"===M.axisFamily?M.scale.bandwidth():1,$=void 0!==L&&!Number.isNaN(L),K=M.scale(L);M.isVertical?(A=(null!=(I=N=K)?I:0)-1,D=(null!=(F=N)?F:0)+z,"left"===M.position?(E=q[0],S=q[1]):(E=q[1],S=q[0])):(E=(null!=(U=T=K)?U:0)-1,S=(null!=(R=T)?R:0)+z,"top"===M.position?(A=q[0],D=q[1]):(A=q[1],D=q[0]));var W,G,Z=Math.min(E,S),X=Math.min(A,D),J=Math.max(E,S),Q=Math.max(A,D),tt=Math.max(Q-X,0),et=Math.max(J-Z,0);M.isVertical?(W="left"===M.position?Z:J,G=X+tt/2):(G="top"===M.position?X:Q,W=Z+et/2),M.isVertical?(V=-50,C="left"===M.position?-100:0):(C=-50,V="top"===M.position?-100:0);var nt=M.formatters.cursor(H),rt=Ni(h.current,$),it=o.default.useRef(null),ot=o.default.useRef(null),at=bi(Z,null!=K),ut=bi(X,null!=K),lt=bi(W,null!=K),st=bi(G,null!=K),ct=null==xi(K)&&null!==K;X=null!=(i=null!=K?X:ut)?i:NaN,W=null!=(a=null!=K?W:lt)?a:NaN,G=null!=(l=null!=K?G:st)?l:NaN;var ft=Ii(Z=null!=(r=null!=K?Z:at)?r:NaN,[1,210,20],(function(){it.current&&(it.current.style.transform="translate("+ft.x()+"px, "+ht.x()+"px)")}),ct),ht=Ii(X,[1,210,20],(function(){it.current&&(it.current.style.transform="translate("+ft.x()+"px, "+ht.x()+"px)")}),ct),dt=Ii(W,[1,210,20],(function(){ot.current&&(ot.current.style.transform="translate("+dt.x()+"px, "+gt.x()+"px)")}),ct),gt=Ii(G,[1,210,20],(function(){ot.current&&(ot.current.style.transform="translate("+dt.x()+"px, "+gt.x()+"px)")}),ct),mt=Mi();return mt?u.default.createPortal(o.default.createElement("div",{style:{fontFamily:"sans-serif",pointerEvents:"none",position:"absolute",top:0,left:0,transform:P(rt.left+d.left,rt.top+d.top),opacity:$?1:0,transition:"opacity .3s ease"},className:"Cursor"},t.options.showLine?o.default.createElement("div",{ref:it,style:{width:et+"px",height:tt+"px",position:"absolute",top:0,left:0,background:Fi(null!=(s=f().dark)&&s,z)}}):null,t.options.showLabel?o.default.createElement("div",{ref:ot,style:{position:"absolute",top:0,left:0}},o.default.createElement("div",{style:{padding:"5px",fontSize:"10px",background:Oi(f().dark),color:Oi(!f().dark),borderRadius:"3px",position:"relative",transform:"translate3d("+C+"%, "+V+"%, 0)",whiteSpace:"nowrap"}},nt)):null),mt):null}var Pi={left:{side:"left",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!1},right:{side:"right",startKey:"left",lengthKey:"width",crossStartKey:"top",crossLengthKey:"height",fromEnd:!0},top:{side:"top",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!1},bottom:{side:"bottom",startKey:"top",lengthKey:"height",crossStartKey:"left",crossLengthKey:"width",fromEnd:!0}};function ji(t){var e=Ni(t.portalEl,t.show),n=Ni(t.anchorEl,t.show),r=Ni(t.tooltipEl,t.show),i=o.default.useMemo((function(){return(Array.isArray(t.side)?t.side:[t.side]).map((function(t){var e=t.split(" "),n=e[0],r=e[1],i=void 0===r?"center":r;if(!["top","right","bottom","left"].find((function(t){return n===t})))throw new Error('react-sticker: "'+n+"\" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].");if(!["center","start","end","top","right","bottom","left"].find((function(t){return i===t})))throw new Error('react-sticker: "'+i+"\" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].");return[n,i]}))}),[JSON.stringify(t.side)]),a=e&&r&&n,u=o.default.useMemo((function(){return a&&t.show?function(t){var e=t.portalDims,n=t.tooltipDims,r=t.anchorDims,i=t.sides,o=t.useLargest,a=i.map((function(t){var i=t[0],o=t[1];return function(t){var e,n,r,i,o=t.side,a=t.align,u=t.startKey,l=t.lengthKey,s=t.crossStartKey,c=t.crossLengthKey,f=t.fromEnd,h=t.portalDims,d=t.tooltipDims,g=t.anchorDims,m=h[u],p=h[l],y=h[s],v=h[c],x=g[u]-h[u],b=g[l],M=g[s],w=g[c],_=g[c],k=d[l],T=d[c];f?(n=x+b,r=(p-(x+b))/k):(n=x-k,r=Math.min(x/k));n=Math.max(m,Math.min(n,p)),"left"===u?"top"===a?a="start":"bottom"===a&&(a="end"):"left"===a?a="start":"right"===a&&(a="end");["start","center","end"].includes(a)||(a="center");i="start"===a?M:"end"===a?M+_-T:M+w/2-T/2;return i=Math.max(y,Math.min(i,v-T)),{side:o,align:a,startKey:u,lengthKey:l,crossStartKey:s,crossLengthKey:c,fromEnd:f,portalDims:h,tooltipDims:d,anchorDims:g,fitRatio:r,style:(e={},e[u]=n,e[s]=i,e)}}(f({},Pi[i],{align:o,portalDims:e,tooltipDims:n,anchorDims:r}))}));if(o)return a.sort((function(t,e){return e.fitRatio-t.fitRatio})),a[0];return a.find((function(t){return t.fitRatio>=1}))||a[0]}({portalDims:e,tooltipDims:r,anchorDims:n,sides:i,useLargest:t.useLargest}):null}),[n,t.show,t.useLargest,e,a,i,r]);return{fit:u,style:f({position:"absolute",visibility:a?"visible":"hidden"},null==u?void 0:u.style)}}var Bi=function(t){return t?"rgba(255,255,255,.9)":"rgba(0, 26, 39, 0.9)"};function Hi(t){return o.default.createElement(Yi,t)}function Yi(t){var e,n,r,i=bi(t.anchor.fit,!!t.anchor.fit);if(!t.focusedDatum)return null;var a=t.primaryAxis,u=t.secondaryAxis,l=t.getDatumStyle,s=t.focusedDatum,c=t.secondaryAxes,h=t.getOptions(),d=h.tooltip,g=h.dark,m=null!=(e=null==(n=t.focusedDatum)?void 0:n.tooltipGroup)?e:[],p=m.length,y=m.findIndex((function(t){return t===s})),v=y>-1?y-5:0;v=Math.max(v,0);var x=y>-1?v+10:p;x=Math.min(x,p),v=Math.max(x-10,0);var b,M,w=m.slice(v,x),_=v>0,k=x<p,T=(null==i?void 0:i.side)+"-"+(null==i?void 0:i.align);b||("left-center"===T?b="right":"right-center"===T?b="left":"top-center"===T?b="bottom":"bottom-center"===T?b="top":"right-start"===T?b="bottomLeft":"right-end"===T?b="topLeft":"left-start"===T?b="bottomRight":"left-end"===T&&(b="topRight"));var N=Bi(g);return M="bottom"===b?{top:"100%",left:"50%",transform:"translate3d(-50%, 0%, 0)",borderLeft:7*.8+"px solid transparent",borderRight:7*.8+"px solid transparent",borderTop:"7px solid "+N}:"top"===b?{top:"0%",left:"50%",transform:"translate3d(-50%, -100%, 0)",borderLeft:7*.8+"px solid transparent",borderRight:7*.8+"px solid transparent",borderBottom:"7px solid "+N}:"right"===b?{top:"50%",left:"100%",transform:"translate3d(0%, -50%, 0)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderLeft:"7px solid "+N}:"left"===b?{top:"50%",left:"0%",transform:"translate3d(-100%, -50%, 0)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderRight:"7px solid "+N}:"topRight"===b?{top:"0%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderLeft:"14px solid "+N}:"bottomRight"===b?{top:"100%",left:"100%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderLeft:"14px solid "+N}:"topLeft"===b?{top:"0%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderRight:"14px solid "+N}:"bottomLeft"===b?{top:"100%",left:"0%",transform:"translate3d(-50%, -50%, 0) rotate(-45deg)",borderTop:7*.8+"px solid transparent",borderBottom:7*.8+"px solid transparent",borderRight:"14px solid "+N}:{opacity:0},o.default.createElement("div",{style:{position:"relative",fontSize:"10px",padding:"5px",background:Bi(g),color:g?"black":"white",borderRadius:"3px"}},o.default.createElement("div",{style:f({position:"absolute",width:0,height:0},M)}),o.default.createElement("div",null,o.default.createElement("div",{style:{marginBottom:"3px",textAlign:"center"}},"series"===d.groupingMode?o.default.createElement("strong",null,s.seriesLabel):"secondary"===d.groupingMode?o.default.createElement("strong",null,u.formatters.tooltip(s.secondaryValue)):o.default.createElement("strong",null,a.formatters.tooltip(s.primaryValue))),o.default.createElement("table",{style:{whiteSpace:"nowrap"}},o.default.createElement("tbody",null,_?o.default.createElement("tr",{style:{opacity:.8}},o.default.createElement("td",null),o.default.createElement("td",null,"..."),o.default.createElement("td",null)):null,w.map((function(t,e){var n=t===s,r=c.find((function(e){return e.id===t.secondaryAxisId}));return o.default.createElement("tr",{key:e,style:{opacity:n?1:.8,fontWeight:n?"bold":void 0}},o.default.createElement("td",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.default.createElement("svg",{width:"14",height:"14"},o.default.createElement("circle",{cx:"7",cy:"7",r:"5",style:f({},l(t),{stroke:g?"black":"white",strokeWidth:n?2:1})}))),"series"===d.groupingMode?o.default.createElement(o.default.Fragment,null,o.default.createElement("td",null,a.formatters.tooltip(t.primaryValue),":  "),o.default.createElement("td",{style:{textAlign:"right"}},r.formatters.tooltip(t.secondaryValue))):"secondary"===d.groupingMode?o.default.createElement(o.default.Fragment,null,o.default.createElement("td",null,t.seriesLabel,":  "),o.default.createElement("td",{style:{textAlign:"right"}},a.formatters.tooltip(t.primaryValue))):o.default.createElement(o.default.Fragment,null,o.default.createElement("td",null,t.seriesLabel,":  "),o.default.createElement("td",{style:{textAlign:"right"}},r.formatters.tooltip(t.secondaryValue))))})),k?o.default.createElement("tr",{style:{opacity:.8}},o.default.createElement("td",null),o.default.createElement("td",null,"..."),o.default.createElement("td",null)):null,(null!=(r=s.tooltipGroup)?r:[]).length>1?t.secondaryAxes.filter((function(t){return t.stacked})).map((function(e,n){var r,i;return o.default.createElement("tr",{key:e.id+"_"+n},o.default.createElement("td",{style:{paddingTop:"5px"}},o.default.createElement("div",{style:{width:"12px",height:"12px",backgroundColor:g?"rgba(0, 26, 39, 0.3)":"rgba(255,255,255,.2)",borderRadius:"50px"}})),o.default.createElement("td",{style:{paddingTop:"5px"}},t.secondaryAxes.length>1?null!=(r=e.id)?r:"Axis "+(n+1)+" ":"","Total:  "),o.default.createElement("td",{style:{paddingTop:"5px"}},e.formatters.scale(F(null!=(i=s.tooltipGroup)?i:[],(function(t){return t.secondaryValue})))))})):null))))}var qi=["visibility"];function zi(){var t,e,n=Y(),r=n.focusedDatumState,i=n.getOptions,a=n.primaryAxis,l=n.secondaryAxes,s=n.getDatumStatusStyle,h=n.svgRef,d=r[0],g=bi(d,!!d),m=null!=(t=l.find((function(t){return t.id===(null==g?void 0:g.secondaryAxisId)})))?t:l[0],p=Mi(),y=o.default.useState(),v=y[0],x=y[1],b=Ni(h.current,!(null==d||!d.element)),M=o.default.useMemo((function(){var t,e,n,r,i,o,a=null!=(t=null==g||null==(e=g.element)?void 0:e.getBoundingClientRect())?t:null;if(!a)return null;if(b){var u=null!=(n=a.left)?n:0,l=null!=(r=a.top)?r:0,s=null!=(i=a.width)?i:0,c=null!=(o=a.height)?o:0,f={x:l,y:u,top:l,left:u,bottom:l+s,right:u+c,width:s,height:c,toJSON:function(){return{}}};return f.toJSON=function(){return f},{getBoundingClientRect:function(){return f}}}}),[null==g?void 0:g.element,b]),w=ji({show:!!d,portalEl:p,anchorEl:M,tooltipEl:v,side:["right","left","top","bottom"]}),_=xi(w),k=(null!=(e=bi(w,!!w.fit))?e:w).style;k.visibility;var T=c(k,qi),N=o.default.useRef(null),E=Number.isNaN(null==_?void 0:_.style.left),S=Ii(T.left||0,[1,210,30],(function(){N.current&&(N.current.style.transform="translate("+S.x()+"px, "+A.x()+"px)")}),E),A=Ii(T.top||0,[1,210,30],(function(){N.current&&(N.current.style.transform="translate("+S.x()+"px, "+A.x()+"px)")}),E),D=i().tooltip.show,C=bi(w.fit,!!w.fit);return D&&p?u.default.createPortal(o.default.createElement("div",{ref:N,style:{position:T.position,opacity:d?1:0,transition:"opacity .3s ease"}},o.default.createElement("div",{ref:function(t){return x(t)},style:f({fontFamily:"sans-serif"},"left"===(null==C?void 0:C.startKey)?{padding:"0 10px"}:{padding:"10px 0"})},i().tooltip.render({getOptions:i,focusedDatum:g,primaryAxis:a,secondaryAxes:l,secondaryAxis:m,getDatumStyle:function(t){return s(t,d)},anchor:w}))),p):null}const $i=Math.pow(2,-52),Ki=new Uint32Array(512);class Wi{static from(t,e=no,n=ro){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=e(r),i[2*o+1]=n(r)}return new Wi(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,u=1/0,l=-1/0,s=-1/0;for(let e=0;e<o;e++){const n=t[2*e],r=t[2*e+1];n<a&&(a=n),r<u&&(u=r),n>l&&(l=n),r>s&&(s=r),this._ids[e]=e}const c=(a+l)/2,f=(u+s)/2;let h,d,g,m=1/0;for(let e=0;e<o;e++){const n=Gi(c,f,t[2*e],t[2*e+1]);n<m&&(h=e,m=n)}const p=t[2*h],y=t[2*h+1];m=1/0;for(let e=0;e<o;e++){if(e===h)continue;const n=Gi(p,y,t[2*e],t[2*e+1]);n<m&&n>0&&(d=e,m=n)}let v=t[2*d],x=t[2*d+1],b=1/0;for(let e=0;e<o;e++){if(e===h||e===d)continue;const n=Qi(p,y,v,x,t[2*e],t[2*e+1]);n<b&&(g=e,b=n)}let M=t[2*g],w=t[2*g+1];if(b===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];to(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Xi(p,y,v,x,M,w)){const t=d,e=v,n=x;d=g,v=M,x=w,g=t,M=e,w=n}const _=function(t,e,n,r,i,o){const a=n-t,u=r-e,l=i-t,s=o-e,c=a*a+u*u,f=l*l+s*s,h=.5/(a*s-u*l);return{x:t+(s*c-u*f)*h,y:e+(a*f-l*c)*h}}(p,y,v,x,M,w);this._cx=_.x,this._cy=_.y;for(let e=0;e<o;e++)this._dists[e]=Gi(t[2*e],t[2*e+1],_.x,_.y);to(this._ids,this._dists,0,o-1),this._hullStart=h;let k=3;n[h]=e[g]=d,n[d]=e[h]=g,n[g]=e[d]=h,r[h]=0,r[d]=1,r[g]=2,i.fill(-1),i[this._hashKey(p,y)]=h,i[this._hashKey(v,x)]=d,i[this._hashKey(M,w)]=g,this.trianglesLen=0,this._addTriangle(h,d,g,-1,-1,-1);for(let o,a,u=0;u<this._ids.length;u++){const l=this._ids[u],s=t[2*l],c=t[2*l+1];if(u>0&&Math.abs(s-o)<=$i&&Math.abs(c-a)<=$i)continue;if(o=s,a=c,l===h||l===d||l===g)continue;let f=0;for(let t=0,e=this._hashKey(s,c);t<this._hashSize&&(f=i[(e+t)%this._hashSize],-1===f||f===n[f]);t++);f=e[f];let m,p=f;for(;m=n[p],!Xi(s,c,t[2*p],t[2*p+1],t[2*m],t[2*m+1]);)if(p=m,p===f){p=-1;break}if(-1===p)continue;let y=this._addTriangle(p,l,n[p],-1,-1,r[p]);r[l]=this._legalize(y+2),r[p]=y,k++;let v=n[p];for(;m=n[v],Xi(s,c,t[2*v],t[2*v+1],t[2*m],t[2*m+1]);)y=this._addTriangle(v,l,m,r[l],-1,r[v]),r[l]=this._legalize(y+2),n[v]=v,k--,v=m;if(p===f)for(;m=e[p],Xi(s,c,t[2*m],t[2*m+1],t[2*p],t[2*p+1]);)y=this._addTriangle(m,l,p,-1,r[p],r[m]),this._legalize(y+2),r[m]=y,n[p]=p,k--,p=m;this._hullStart=e[l]=p,n[p]=e[v]=l,n[l]=v,i[this._hashKey(s,c)]=l,i[this._hashKey(t[2*p],t[2*p+1])]=p}this.hull=new Uint32Array(k);for(let t=0,e=this._hullStart;t<k;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,o=0;for(;;){const a=n[t],u=t-t%3;if(o=u+(t+2)%3,-1===a){if(0===i)break;t=Ki[--i];continue}const l=a-a%3,s=u+(t+1)%3,c=l+(a+2)%3,f=e[o],h=e[t],d=e[s],g=e[c];if(Ji(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1])){e[t]=g,e[a]=f;const r=n[c];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===c){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(a,n[o]),this._link(o,c);const u=l+(a+1)%3;i<Ki.length&&(Ki[i++]=u)}else{if(0===i)break;t=Ki[--i]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=e,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function Gi(t,e,n,r){const i=t-n,o=e-r;return i*i+o*o}function Zi(t,e,n,r,i,o){const a=(r-e)*(i-t),u=(n-t)*(o-e);return Math.abs(a-u)>=33306690738754716e-32*Math.abs(a+u)?a-u:0}function Xi(t,e,n,r,i,o){return(Zi(i,o,t,e,n,r)||Zi(t,e,n,r,i,o)||Zi(n,r,i,o,t,e))<0}function Ji(t,e,n,r,i,o,a,u){const l=t-a,s=e-u,c=n-a,f=r-u,h=i-a,d=o-u,g=c*c+f*f,m=h*h+d*d;return l*(f*m-g*d)-s*(c*m-g*h)+(l*l+s*s)*(c*d-f*h)<0}function Qi(t,e,n,r,i,o){const a=n-t,u=r-e,l=i-t,s=o-e,c=a*a+u*u,f=l*l+s*s,h=.5/(a*s-u*l),d=(s*c-u*f)*h,g=(a*f-l*c)*h;return d*d+g*g}function to(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],o=e[r];let a=i-1;for(;a>=n&&e[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=n+1,o=r;eo(t,n+r>>1,i),e[t[n]]>e[t[r]]&&eo(t,n,r),e[t[i]]>e[t[r]]&&eo(t,i,r),e[t[n]]>e[t[i]]&&eo(t,n,i);const a=t[i],u=e[a];for(;;){do{i++}while(e[t[i]]<u);do{o--}while(e[t[o]]>u);if(o<i)break;eo(t,i,o)}t[n+1]=t[o],t[o]=a,r-i+1>=o-n?(to(t,e,i,r),to(t,e,n,o-1)):(to(t,e,n,o-1),to(t,e,i,r))}}function eo(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function no(t){return t[0]}function ro(t){return t[1]}const io=1e-6;class oo{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>io||Math.abs(this._y1-i)>io)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class ao{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class uo{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,o=0,a=0,u=n.length;o<u;o+=3,a+=2){const u=2*n[o],l=2*n[o+1],s=2*n[o+2],c=t[u],f=t[u+1],h=t[l],d=t[l+1],g=t[s],m=t[s+1],p=h-c,y=d-f,v=g-c,x=m-f,b=p*p+y*y,M=v*v+x*x,w=2*(p*x-y*v);if(w)if(Math.abs(w)<1e-8)e=(c+g)/2,r=(f+m)/2;else{const t=1/w;e=c+(x*b-y*M)*t,r=f+(p*M-v*b)*t}else e=(c+g)/2-1e8*x,r=(f+m)/2+1e8*v;i[a]=e,i[a+1]=r}let o,a,u,l=e[e.length-1],s=4*l,c=t[2*l],f=t[2*l+1];r.fill(0);for(let n=0;n<e.length;++n)l=e[n],o=s,a=c,u=f,s=4*l,c=t[2*l],f=t[2*l+1],r[o+2]=r[s]=u-f,r[o+3]=r[s+1]=c-a}render(t){const e=null==t?t=new oo:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),a=2*Math.floor(r/3),u=o[i],l=o[i+1],s=o[a],c=o[a+1];this._renderSegment(u,l,s,c,t)}let u,l=i[i.length-1];for(let e=0;e<i.length;++e){u=l,l=i[e];const n=2*Math.floor(r[l]/3),s=o[n],c=o[n+1],f=4*u,h=this._project(s,c,a[f+2],a[f+3]);h&&this._renderSegment(s,c,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new oo:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new oo:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new ao;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let o;const a=this._regioncode(t,e),u=this._regioncode(n,r);0===a&&0===u?(i.moveTo(t,e),i.lineTo(n,r)):(o=this._clipSegment(t,e,n,r,a,u))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(e[r]==t[o]&&e[r+1]==t[o+1]&&e[(r+2)%i]==t[(o+a-2)%a]&&e[(r+3)%i]==t[(o+a-1)%a]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,o=n[t];if(-1===o)return null;const a=[];let u=o;do{const n=Math.floor(u/3);if(a.push(e[2*n],e[2*n+1]),u=u%3==2?u-2:u+1,i[u]!==t)break;u=r[u]}while(u!==o&&-1!==u);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,o,a,u,l=null,s=e[n-2],c=e[n-1],f=this._regioncode(s,c);for(let h=0;h<n;h+=2)if(r=s,i=c,s=e[h],c=e[h+1],o=f,f=this._regioncode(s,c),0===o&&0===f)a=u,u=0,l?l.push(s,c):l=[s,c];else{let e,n,h,d,g;if(0===o){if(null===(e=this._clipSegment(r,i,s,c,o,f)))continue;[n,h,d,g]=e}else{if(null===(e=this._clipSegment(s,c,r,i,f,o)))continue;[d,g,n,h]=e,a=u,u=this._edgecode(n,h),a&&u&&this._edge(t,a,u,l,l.length),l?l.push(n,h):l=[n,h]}a=u,u=this._edgecode(d,g),a&&u&&this._edge(t,a,u,l,l.length),l?l.push(d,g):l=[d,g]}if(l)a=u,u=this._edgecode(l[0],l[1]),a&&u&&this._edge(t,a,u,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,e,n,r,i,o){for(;;){if(0===i&&0===o)return[t,e,n,r];if(i&o)return null;let a,u,l=i||o;8&l?(a=t+(n-t)*(this.ymax-e)/(r-e),u=this.ymax):4&l?(a=t+(n-t)*(this.ymin-e)/(r-e),u=this.ymin):2&l?(u=e+(r-e)*(this.xmax-t)/(n-t),a=this.xmax):(u=e+(r-e)*(this.xmin-t)/(n-t),a=this.xmin),i?(t=a,e=u,i=this._regioncode(t,e)):(n=a,r=u,o=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,o){let a,u=Array.from(e);if((a=this._project(u[0],u[1],n,r))&&u.unshift(a[0],a[1]),(a=this._project(u[u.length-2],u[u.length-1],i,o))&&u.push(a[0],a[1]),u=this._clipFinite(t,u))for(let e,n=0,r=u.length,i=this._edgecode(u[r-2],u[r-1]);n<r;n+=2)e=i,i=this._edgecode(u[n],u[n+1]),e&&i&&(n=this._edge(t,e,i,u,n),r=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,e,n,r,i){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}r[i]===n&&r[i+1]===o||!this.contains(t,n,o)||(r.splice(i,0,n,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,o,a,u=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<u&&(a=this.ymin,o=t+(u=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<u&&(a=this.ymax,o=t+(u=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<u&&(o=this.xmax,a=e+(u=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<u&&(o=this.xmin,a=e+(u=i)*r)}return[o,a]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const lo=2*Math.PI,so=Math.pow;function co(t){return t[0]}function fo(t){return t[1]}function ho(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class go{static from(t,e=co,n=fo,r){return new go("length"in t?function(t,e,n,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=e.call(r,i,a,t),o[2*a+1]=n.call(r,i,a,t)}return o}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new Wi(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],o=2*e[t+2];if((n[o]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[o+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=ho(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Wi(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=r.length;t<e;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new uo(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const e=a.indexOf(t);return e>0&&(yield a[e-1]),void(e<a.length-1&&(yield a[e+1]))}const u=e[t];if(-1===u)return;let l=u,s=-1;do{if(yield s=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==s&&(yield e))}}while(l!==u)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:u,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let s=t,c=so(e-l[2*t],2)+so(n-l[2*t+1],2);const f=r[t];let h=f;do{let r=u[h];const f=so(e-l[2*r],2)+so(n-l[2*r+1],2);if(f<c&&(c=f,s=r),h=h%3==2?h-2:h+1,u[h]!==t)break;if(h=a[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&so(e-l[2*h],2)+so(n-l[2*h+1],2)<c)return h;break}}while(h!==f);return s}render(t){const e=null==t?t=new oo:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,o=r.length;e<o;++e){const o=r[e];if(o<e)continue;const a=2*i[e],u=2*i[o];t.moveTo(n[a],n[a+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new oo:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],o=r[n+1];t.moveTo(i+e,o),t.arc(i,o,e,0,lo)}return n&&n.value()}renderHull(t){const e=null==t?t=new oo:void 0,{hull:n,points:r}=this,i=2*n[0],o=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<o;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new ao;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new oo:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],u=2*i[t+2];return e.moveTo(r[o],r[o+1]),e.lineTo(r[a],r[a+1]),e.lineTo(r[u],r[u+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new ao;return this.renderTriangle(t,e),e.value()}}function mo(){var t=Y(),e=t.getOptions,n=t.focusedDatumState,r=t.isInteractingState,i=n[1],a=r[0],u=e(),l=u.onFocusDatum,s=u.onClickDatum,c=u.tooltip,f=u.primaryCursor,h=u.secondaryCursor,d=u.showVoronoi,g=u.interactionMode,m=o.default.useCallback((function(t){var n,r;null==(n=(r=e()).onFocusDatum)||n.call(r,t),i(t)}),[e,i]);if(!(a&&(d||l||s||c||f||h)))return null;var p={handleFocus:m};return"closest"===g?o.default.createElement(vo,p):o.default.createElement(po,p)}function po(t){var e=t.handleFocus,n=Y(),r=n.primaryAxis,i=n.secondaryAxes,a=n.getOptions,u=n.gridDimensions,l=n.datumsByInteractionGroup,s=1===i.length&&i[0].stacked,c=i.every((function(t){return"bar"===t.elementType&&!t.stacked}));return o.default.useMemo((function(){var t=Array.from(l.entries()).map((function(t){return t[0],t[1]})).filter((function(t){var e=t[0];if(e){var n=e.primaryValue;return"undefined"!==n&&null!==n}})).sort((function(t,e){var n=i.find((function(e){return e.id===t[0].secondaryAxisId})),o=i.find((function(t){return t.id===e[0].secondaryAxisId}));return xo(t[0],r,n,c)-xo(e[0],r,o,c)}));r.isVertical&&t.reverse();var n=t.map((function(t,e,n){var o,a=t[0],u=n[e-1],l=n[e+1],f=i.find((function(t){return t.id===a.secondaryAxisId})),h=xo(a,r,f,c),d=null!=(o=null==r?void 0:r.scale.range())?o:[0,0],g=d[0],m=d[1];if(u){var p=i.find((function(t){return t.id===u[0].secondaryAxisId}));g=h-(h-xo(u[0],r,p,c))/2}if(l){var y=i.find((function(t){return t.id===l[0].secondaryAxisId}));m=h+(xo(l[0],r,y,c)-h)/2}return{primaryStart:g,primaryEnd:m,primaryPx:h,datumBoundaries:t.filter((function(t){var e=t.secondaryValue;return null!=e})).map((function(t,e,n){var r,o,a,u=n[e-1],l=n[e+1],c=i.find((function(e){return e.id===t.secondaryAxisId}));if(s){var f,h,d,g=null!=(f=null==c?void 0:c.scale.range())?f:[0,0],m=[null==(h=t.stackData)?void 0:h[0],null==(d=t.stackData)?void 0:d[1]];null!=c&&c.isVertical&&(g.reverse(),m.reverse());var p,y,v,x,b=g[0],M=g[1];if(u)b=null!=(p=null==c?void 0:c.scale(null!=(y=m[0])?y:NaN))?p:NaN;if(l)M=null!=(v=null==c?void 0:c.scale(null!=(x=m[1])?x:NaN))?v:NaN;return{secondaryStart:b,secondaryEnd:M,datum:t}}var w=null!=(r=null==c?void 0:c.scale(c.stacked?null==(o=t.stackData)?void 0:o[1]:t.secondaryValue))?r:NaN,_=null!=(a=null==c?void 0:c.scale.range())?a:[0,0];null!=c&&c.isVertical&&_.reverse();var k=_[0],T=_[1];if(u){var N,E,S=i.find((function(t){return t.id===(null==u?void 0:u.secondaryAxisId)}));k=w-(w-(null!=(N=null==S?void 0:S.scale(S.stacked?null==(E=u.stackData)?void 0:E[1]:u.secondaryValue))?N:NaN))/2}if(l){var A,D,C=i.find((function(t){return t.id===(null==l?void 0:l.secondaryAxisId)}));T=w+((null!=(A=null==C?void 0:C.scale(C.stacked?null==(D=l.stackData)?void 0:D[1]:l.secondaryValue))?A:NaN)-w)/2}return{secondaryStart:k,secondaryEnd:T,datum:t}}))}}));return o.default.createElement("g",{onMouseLeave:function(){return e(null)},style:{transform:P(u.left,u.top)}},n.map((function(t,n){return o.default.createElement("g",{key:t.primaryPx+"_"+n},t.datumBoundaries.map((function(n,i){var u=r.isVertical?n.secondaryStart:t.primaryStart,l=r.isVertical?n.secondaryEnd:t.primaryEnd,s=r.isVertical?t.primaryStart:n.secondaryStart,c=r.isVertical?t.primaryEnd:n.secondaryEnd,f=Math.min(u,l),h=Math.min(s,c),d=Math.max(u,l),g=Math.max(s,c),m=Math.max(g-h,0),p=Math.max(d-f,0);return o.default.createElement("rect",{key:i,x:f,y:h,width:p,height:m,className:"action-voronoi",onMouseEnter:function(){return e(n.datum)},style:{fill:a().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:a().dark?"white":"black",opacity:a().showVoronoi?1:0}})})))})))}),[l,r,u.left,u.top,i,c,s,e,a])}var yo=ct();function vo(t){var e=t.handleFocus,n=Y(),r=n.primaryAxis,i=n.series,a=n.secondaryAxes,u=n.getOptions,l=n.gridDimensions,s=null,c=[],f=a.every((function(t){return"bar"===t.elementType&&!t.stacked}));return i.forEach((function(t){t.datums.filter((function(t){var e=t.primaryValue,n=t.secondaryValue;return"undefined"!==e&&null!==e&&"undefined"!==n&&null!==n})).forEach((function(t){var e=a.find((function(e){return e.id===t.secondaryAxisId})),n=function(t,e,n,r){return e.isVertical?bo(t,n):xo(t,e,n,r)}(t,r,e,f),i=function(t,e,n,r){return e.isVertical?xo(t,e,n,r):bo(t,n)}(t,r,e,f);"number"!=typeof n||"number"!=typeof i||Number.isNaN(i)||Number.isNaN(n)||c.push({x:n,y:i,datum:t})}))})),s=go.from(c,(function(t){return Math.max(t.x,0)}),(function(t){return Math.max(t.y,0)})).voronoi([0,0,l.width,l.height]).cellPolygons(),s=Array.from(s),o.default.createElement("g",{onMouseLeave:function(){return e(null)},style:{transform:P(l.left,l.top)}},s.map((function(t,n){var r=t.index,i=c[r].datum,a=yo(t)||void 0;return o.default.createElement("path",{key:n,d:a,className:"action-voronoi",onMouseEnter:function(){return e(i)},style:{fill:u().dark?"#ffffff33":"rgba(0,0,0,0.2)",strokeWidth:1,stroke:u().dark?"white":"black",opacity:u().showVoronoi?1:0}})})))}function xo(t,e,n,r){var i,o,a=null!=(i=e.scale(t.primaryValue))?i:NaN;r&&"bar"===n.elementType&&(n.stacked?a+=z(0,e)/2:(a+=null!=(o=e.seriesBandScale(t.seriesIndex))?o:NaN,a+=$(0,e,n)/2));return a}function bo(t,e){var n,r,i,o;return e.stacked?null!=(r=e.scale(null!=(i=null==(o=t.stackData)?void 0:o[1])?i:NaN))?r:NaN:null!=(n=e.scale(t.secondaryValue))?n:NaN}var Mo=["options","className","style"],wo=["#0f83ab","#faa43a","#fd6868","#53cfc9","#a2d925","#decf3f","#734fe9","#cd82ad","#006d92","#de7c00","#f33232","#3f9a80","#53c200","#d7af00","#4c26c9","#d44d99"];function _o(t){var e,n,r=t.options,i=t.width,a=t.height;if(!r.primaryAxis)throw new Error("A primaryAxis is required");if(!r.secondaryAxes.length)throw new Error("At least one secondaryAxis is required");var u=o.default.useMemo((function(){var t=ko(r.primaryAxis,r.data);return f({position:"bottom"},To(r.primaryAxis,t))}),[r.data,r.primaryAxis]),l=o.default.useMemo((function(){return r.secondaryAxes.map((function(t,e){var n=To(t,ko(t,r.data));return n.elementType||("band"===u.scaleType?n.elementType="bar":n.stacked&&(n.elementType="area")),void 0===n.stacked&&n.elementType&&["area"].includes(n.elementType)&&(n.stacked=!0),f({position:e?"right":"left"},n)}))}),[r.data,r.secondaryAxes,u]),s=o.default.useMemo((function(){var t,e,n=function(t){var e,n,r,i,o;return void 0===t&&(t={}),!0===t?t={show:!0}:!1===t&&(t={show:!1}),f({show:!0},t,{align:null!=(e=t.align)?e:"auto",alignPriority:null!=(n=t.alignPriority)?n:["right","topRight","bottomRight","left","topLeft","bottomLeft","top","bottom"],padding:null!=(r=t.padding)?r:5,arrowPadding:null!=(i=t.arrowPadding)?i:7,render:null!=(o=t.render)?o:Hi})}(null==(t=r)?void 0:t.tooltip);return n.groupingMode=null!=(e=n.groupingMode)?e:"closest"===r.interactionMode?"single":"primary",n}),[r.interactionMode,null==(e=r)?void 0:e.tooltip]);r=f({},r,{tooltip:s});var c=o.default.useRef(null),h=O(f({},r,{tooltip:s})),d=o.default.useState({left:{},right:{},top:{},bottom:{}}),g=d[0],m=o.default.useState(!1),p=m[0],y=o.default.useState(null),v=y[0],x=o.default.useMemo((function(){var t,e,n,o,u="object"==typeof r.padding?null!=(t=r.padding.left)?t:5:r.padding,l="object"==typeof r.padding?null!=(e=r.padding.right)?e:5:r.padding,s="object"==typeof r.padding?null!=(n=r.padding.bottom)?n:5:r.padding,c="object"==typeof r.padding?null!=(o=r.padding.top)?o:5:r.padding,f=u+Math.max(F(Object.values(g.left),(function(t){return t.width})),F(Object.values(g.top),(function(t){return t.paddingLeft})),F(Object.values(g.bottom),(function(t){return t.paddingLeft}))),h=c+Math.max(F(Object.values(g.top),(function(t){return t.height})),F(Object.values(g.left),(function(t){return t.paddingTop})),F(Object.values(g.right),(function(t){return t.paddingTop}))),d=l+Math.max(F(Object.values(g.right),(function(t){return t.width})),F(Object.values(g.top),(function(t){return t.paddingRight})),F(Object.values(g.bottom),(function(t){return t.paddingRight}))),m=s+Math.max(F(Object.values(g.bottom),(function(t){return t.height})),F(Object.values(g.left),(function(t){return t.paddingBottom})),F(Object.values(g.right),(function(t){return t.paddingBottom})));return{left:f,top:h,right:d,bottom:m,width:Math.max(0,i-f-d),height:Math.max(0,a-h-m)}}),[r.padding,g.left,g.top,g.bottom,g.right,i,a]),w=o.default.useMemo((function(){for(var t=[],e={},n=0;n<r.data.length;n++){var i,o,a,u=r.data[n],l=null!=(i=u.id)?i:n+"",s=null!=(o=u.label)?o:"Series "+(n+1),c=u.secondaryAxisId,f=u.data,h=[];e[""+c]=null!=(a=e[""+c])?a:0;var d=e[""+c];e[""+c]++;for(var g=0;g<f.length;g++){var m=f[g];h[g]={originalSeries:u,seriesIndex:n,seriesIndexPerAxis:d,seriesId:l,seriesLabel:s,secondaryAxisId:c,index:g,originalDatum:m}}t[n]={originalSeries:u,index:n,id:l,label:s,indexPerAxis:d,secondaryAxisId:c,datums:h}}return t}),[r.data]),_=o.default.useMemo((function(){return w.map((function(t){return t.datums})).flat(2)}),[w]),k=o.default.useMemo((function(){return gi(!0,u,w,_,x,i,a)}),[_,x,a,u,w,i]),T=o.default.useMemo((function(){return l.map((function(t){return gi(!1,t,w,_,x,i,a)}))}),[_,x,a,l,w,i]),N=o.default.useMemo((function(){if(!p)return[new Map,new Map];var t=new Map,e=new Map,n=T.every((function(t){return"bar"===t.elementType&&!t.stacked})),i=function(t){if(n){var e=T.find((function(e){return e.id===t.secondaryAxisId}));if("bar"===e.elementType&&!e.stacked)return W(t,k,e)}return t.primaryValue},o=function(t){return""+i(t)},a=function(t){return""+t.primaryValue};return"closest"===r.interactionMode&&(o=function(t){return i(t)+"_"+t.secondaryValue}),"single"===s.groupingMode?a=function(t){return t.primaryValue+"_"+t.secondaryValue}:"secondary"===s.groupingMode?a=function(t){return""+t.secondaryValue}:"series"===s.groupingMode&&(a=function(t){return""+t.seriesIndex}),_.forEach((function(n){var r=o(n),i=a(n);t.has(r)||t.set(r,[]),e.has(i)||e.set(i,[]),t.get(r).push(n),e.get(i).push(n)})),t.forEach((function(e,n){t.set(n,No(e,T))})),e.forEach((function(t,n){e.set(n,No(t,T))})),_.forEach((function(n){var r=o(n),i=a(n);n.interactiveGroup=t.get(r),n.tooltipGroup=e.get(i)})),[t,e]}),[p,_,r.interactionMode,k,T,s.groupingMode]),E=N[0],S=N[1],A=o.default.useCallback((function(t,e){var n,r,i,o={color:h().defaultColors[t.index%h().defaultColors.length]},a=function(t,e){return(null==e?void 0:e.seriesId)===t.id?"focused":"none"}(t,e),u=null!=(n=null==(r=(i=h()).getSeriesStyle)?void 0:r.call(i,t,a))?n:{};return t.style=L(u,o),t.style}),[h]),D=o.default.useCallback((function(t,e){var n,r,i,o,a=f({},null==(n=w[t.seriesIndex])?void 0:n.style,{color:h().defaultColors[t.seriesIndex%h().defaultColors.length]}),u=function(t,e){var n;return t===e?"focused":null!=(n=t.tooltipGroup)&&n.some((function(t){t.seriesId===(null==e?void 0:e.seriesId)&&(t.index,null==e||e.index)}))?"groupFocused":"none"}(t,e),l=null!=(r=null==(i=(o=h()).getDatumStyle)?void 0:i.call(o,t,u))?r:{};return t.style=L(l,a),t.style}),[h,w]),C=o.default.useMemo((function(){var t=[].concat(w).reverse();return h().getSeriesOrder(t)}),[h,w]);U((function(){c.current&&c.current.parentElement&&!c.current.parentElement.style.position&&(c.current.parentElement.style.position="relative")}));var V={getOptions:h,gridDimensions:x,primaryAxis:k,secondaryAxes:T,series:w,orderedSeries:C,datumsByInteractionGroup:E,datumsByTooltipGroup:S,width:i,height:a,getSeriesStatusStyle:A,getDatumStatusStyle:D,axisDimensionsState:d,focusedDatumState:y,svgRef:c,isInteractingState:m},I=o.default.useMemo((function(){return M(b(C,(function(t){return t.secondaryAxisId})),(function(t){var e=t[0];return T.findIndex((function(t){return t.id===e}))}))}),[C,T]),R=function(){return{primaryAxis:k,secondaryAxes:T,seriesByAxisId:I}},P=o.default.useCallback((function(){return{primaryAxis:k,secondaryAxes:T,seriesByAxisId:I}}),[k,T,I]);r.memoizeSeries&&(R=P);var j=o.default.useMemo((function(){var t=R(),e=t.primaryAxis,n=t.secondaryAxes;return t.seriesByAxisId.map((function(t){var r=t[0],i=t[1],a=n.find((function(t){return t.id===r}));if(!a)return null;var u=a.elementType,l=function(){if("line"===u||"bubble"===u||"area"===u)return Mt;if("bar"===u)return q;throw new Error("Invalid elementType")}();return e.isInvalid||a.isInvalid?null:o.default.createElement(l,{key:null!=r?r:"__default__",primaryAxis:e,secondaryAxis:a,series:i})}))}),[R]);return o.default.createElement(H,{value:O(V)},o.default.createElement("div",null,o.default.createElement("svg",{ref:c,style:{width:i,height:a,overflow:r.brush?"hidden":"visible"},onClick:function(t){return null==r.onClickDatum?void 0:r.onClickDatum(v,t)},onMouseEnter:function(){m[1](!0)},onMouseLeave:function(){m[1](!1)}},o.default.createElement("g",{className:"axes"},[k].concat(T).map((function(t){return o.default.createElement(vi,f({key:[t.position,t.id].join("")},t))}))),o.default.createElement("g",{className:"Series",style:{pointerEvents:"none"}},j),o.default.createElement(mo,null),null!=(n=null==r.renderSVG?void 0:r.renderSVG())?n:null),o.default.createElement(Ri,null),o.default.createElement(zi,null)))}function ko(t,e){var n;return e.some((function(e){return e.data.some((function(e){var r=t.getValue(e);if(null!=r)return n=r,!0}))})),n}function To(t,e){var n=t.scaleType;if(!t.scaleType)if("number"==typeof e)n="linear";else if("function"==typeof(null==e?void 0:e.getMonth))n="time";else{if("string"!=typeof e&&"boolean"!=typeof e)throw new Error("Invalid scale type: Unable to infer type from data");n="band"}return f({},t,{scaleType:n})}function No(t,e){return[].concat(t).sort((function(t,n){var r,i,o,a,u=e.find((function(e){return e.id===t.secondaryAxisId})),l=e.find((function(t){return t.id===n.secondaryAxisId}));return(null!=(r=null==u?void 0:u.scale(u.stacked?null==(i=t.stackData)?void 0:i[1]:t.secondaryValue))?r:NaN)-(null!=(o=null==l?void 0:l.scale(l.stacked?null==(a=n.stackData)?void 0:a[1]:n.secondaryValue))?o:NaN)}))}t.Chart=function(t){var e=t.options,n=t.className,r=t.style,i=void 0===r?{}:r,a=c(t,Mo),u=function(t){var e,n,r,i,o,a,u,l,s,c,h;return f({},t,{initialWidth:null!=(e=t.initialWidth)?e:300,initialHeight:null!=(n=t.initialHeight)?n:200,getSeriesOrder:null!=(r=t.getSeriesOrder)?r:function(t){return t},interactionMode:null!=(i=t.interactionMode)?i:"primary",showVoronoi:null!=(o=t.showVoronoi)&&o,defaultColors:null!=(a=t.defaultColors)?a:wo,useIntersectionObserver:null==(u=t.useIntersectionObserver)||u,intersectionObserverRootMargin:null!=(l=t.intersectionObserverRootMargin)?l:"1000px",primaryCursor:null==(s=t.primaryCursor)||s,secondaryCursor:null==(c=t.secondaryCursor)||c,padding:null!=(h=t.padding)?h:5})}(e),l=o.default.useState(null),h=l[0],d=l[1],g=null==h?void 0:h.parentElement,m=o.default.useMemo((function(){return function t(e){if(!e)return null;var n=e.parentElement;if(!n)return null;if(n.scrollHeight>n.clientHeight){var r=window.getComputedStyle(n).overflow;if(r.includes("scroll")||r.includes("auto"))return n}return t(n)}(g)}),[g]),p=o.default.useState({width:u.initialWidth,height:u.initialHeight}),y=p[0],v=y.width,x=y.height,b=p[1];U((function(){if(g){var t=window.getComputedStyle(g);["relative","absolute","fixed"].includes(t.position)||(g.style.position="relative")}}),[g]),o.default.useEffect((function(){if(g){var t=new ResizeObserver((function(){var t=null==g?void 0:g.getBoundingClientRect(),e=window.getComputedStyle(g);t&&b({width:t.width-parseInt(e.borderLeftWidth)-parseInt(e.borderRightWidth),height:t.height-parseInt(e.borderTopWidth)-parseInt(e.borderBottomWidth)})}));return t.observe(g),function(){t.unobserve(g)}}}),[g]);var M=o.default.useState(!0),w=M[0],_=M[1];return o.default.useEffect((function(){if(g&&u.useIntersectionObserver){var t=new IntersectionObserver((function(t){for(var e,n=s(t);!(e=n()).done;){e.value.isIntersecting?_(!0):_(!1)}}),{root:m,rootMargin:u.intersectionObserverRootMargin});return t.observe(g),function(){t.unobserve(g)}}}),[g,m,u.intersectionObserverRootMargin,u.useIntersectionObserver]),o.default.createElement("div",f({ref:d},a,{className:"ReactChart "+(n||""),style:f({fontFamily:"sans-serif"},i,{position:"absolute",width:v,height:x})}),w?o.default.createElement(_o,{options:u,width:v,height:x}):null)},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=react-charts.production.min.js.map
